{% extends 'base.html' %}
{% block content %}
<div class="card shadow-lg p-4">
  <h2 class="mb-4 text-center text-primary">✏ Edit Task</h2>

  <form action="{{ url_for('update', task_id=task.id) }}" method="POST" class="row g-3">
    <div class="col-md-6">
      <input type="text" name="content" value="{{ task.content }}" class="form-control" required>
    </div>
    <div class="col-md-3">
      <input type="date" name="deadline" value="{{ task.deadline or '' }}" class="form-control">
    </div>
    <div class="col-md-3">
      <select name="priority" class="form-select">
        <option value="Low"    {% if task.priority == 'Low' %}selected{% endif %}>Low</option>
        <option value="Medium" {% if task.priority == 'Medium' %}selected{% endif %}>Medium</option>
        <option value="High"   {% if task.priority == 'High' %}selected{% endif %}>High</option>
      </select>
    </div>
    <div class="col-12 d-grid">
      <button type="submit" class="btn btn-success">💾 Save Changes</button>
    </div>
  </form>

  <div class="mt-3 d-flex gap-2">
    <a href="{{ url_for('index') }}" class="btn btn-secondary">⬅ Back</a>
    <a href="{{ url_for('delete', task_id=task.id) }}" class="btn btn-outline-danger ms-auto" onclick="return confirm('Delete this task?');">🗑 Delete</a>
  </div>
</div>
{% endblock %}
